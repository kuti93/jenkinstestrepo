#!groovy
//Run docker build
properties([disableConcurrentBuilds()]) //не запускать паралельно

pipeline {
    agent any
    triggers {pollSCM('*****')} //проверка кода в гите каждую минуту
    options{
        buildDiscarder(logRotator(numToKeepStr:'10', artifactNumToKeepStr:'10'))
        timestamps()
    }
    stages {
        stage('connection') {
            steps {
                sh 'mysql --user rfamro --host mysql-rfam-public.ebi.ac.uk --port 4497 --database Rfam'
            }
        }
        stage('sql-request') {
            steps {
              sh select * from fr.fram_acc limit 1
            }
        }
        stage('3rdstep') {
            steps {
                //
            }
        }
    }
}